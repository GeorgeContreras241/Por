---
import GitHub from "./icons/GitHub.astro";
import Web from "./icons/Web.astro";
import React from "./icons/React.astro";
import Tailwind from "./icons/Tailwind.astro";
import Code from "./icons/Code.astro";
import Astro_icons from "./icons/Astro_icon.astro";
import Express from "./icons/Express.astro";
import JavaScript from "./icons/JavaScript.astro";
import Mongo from "./icons/Mongo.astro";
import Next from "./icons/Next.js.astro";
import Node from "./icons/Node.astro";
import { projects } from "../const/const.js";

const getComponentIcon = (name: any) => {
  const icons = {
    React,
    Next,
    Astro_icons,
    JavaScript,
    Tailwind,
    Node,
    Express,
    Mongo,
    GitHub,
  };

  return icons[name] || null;
};
---

<section class="flex flex-col gap-4 md:py-36 py-16" id="projects">
  <h2
    class="flex items-center gap-3 w-full mb-8 text-3xl font-semibold text-[#a3e3f8] neon-text"
  >
    <Code class="h-8 w-8" />
    Proyectos
  </h2>
  <div class="flex flex-col gap-12">
    {
      projects?.map((projects, index) => {
        return (
          <article
            class={`flex flex-col gap-4 ${index % 2 === 0 ? "md:flex-row" : "md:flex-row-reverse"} md:gap-8`}
          >
            <div class="w-full md:w-3/6">
              <img
                src={projects.image}
                alt={projects.name}
                loading="lazy"
                class="w-full h-full object-cover aspect-auto rounded-2xl"
              />
            </div>
            <div class="full md:w-3/6 grow h-full">
              <h3 class="text-2xl font-bold text-[#a3e3f8] drop-shadow-md">
                {projects.name}
              </h3>
              <ul class="mt-2 flex flex-wrap items-center gap-4 text-[.75rem] font-semibold text-gray-100">
                {projects.technologies.map((tech, index) => {
                  const Icon = getComponentIcon(tech.icon);
                  return (
                    <li class="flex justify-center items-center gap-x-1.5">
                      {Icon && <Icon class="h-3 w-3" />}
                      {tech.name}
                    </li>
                  );
                })}
              </ul>
              <p class="mt-2 text-[#e0e0e0]">{projects.description}</p>
              <nav class="flex flex-row gap-x-4 mt-4 justify-end items-center">
                <a
                  href={projects.github}
                  title="Git Hub"
                  target="_blank"
                  class="bg-[#052530] hover:bg-[#253d46] text-gray-100 font-semibold flex items-center gap-3 py-1 px-3 rounded-md text-sm hover:"
                  rel="noreferrer"
                >
                  <GitHub class="h-4 w-4" />
                  Ir a Git Hub
                </a>
                <a
                  href={projects.url}
                  target="_blank"
                  class="bg-[#052530] hover:bg-[#253d46] text-white font-semibold flex items-center gap-3 py-1 px-3 rounded-md text-sm"
                  rel="noreferrer"
                  title="Visitar el sitio web"
                >
                  <Web class="h-4 w-4" />
                  Visitar
                </a>
              </nav>
            </div>
          </article>
        );
      })
    }
  </div>
</section>
